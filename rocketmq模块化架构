<mxfile host="app.diagrams.net" modified="2022-01-30T07:58:42.394Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36" etag="7IMCxZVoPAsPO-PCQM8O" version="16.2.7" type="github">
  <diagram id="crfA2QIqD1aeVpx_zon8" name="Page-1">
    <mxGraphModel dx="1763" dy="1594" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-477" value="" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="1480" y="3910" width="880" height="600" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-470" value="" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="2120" y="4290" width="190" height="200" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-469" value="" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1820" y="4290" width="290" height="200" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-449" value="" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1620" y="4290" width="190" height="200" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-196" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFE6;" parent="1" vertex="1">
          <mxGeometry x="1490" y="160" width="380" height="410" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-1" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFCC;" parent="1" vertex="1">
          <mxGeometry x="220" y="160" width="540" height="380" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-161" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFCC;" parent="1" vertex="1">
          <mxGeometry x="220" y="390" width="540" height="120" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-50" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFB366;" parent="1" vertex="1">
          <mxGeometry x="220" y="-130" width="540" height="270" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-2" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#A9C4EB;" parent="1" vertex="1">
          <mxGeometry x="220" y="600" width="540" height="480" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-4" value="" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="310" y="-40" width="100" height="150" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-7" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFFF;" parent="1" vertex="1">
          <mxGeometry x="-200" y="230" width="310" height="220" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-8" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFE6;" parent="1" vertex="1">
          <mxGeometry x="870" y="160" width="620" height="240" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-13" value="namesrvconfig" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="310" y="-10" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-14" value="nettyconfig" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="310" y="65" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-24" value="nameserver-controller每十秒清除routeinfoManager过期broker" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="310" y="-40" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-29" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#A9C4EB;" parent="1" vertex="1">
          <mxGeometry x="220" y="1180" width="540" height="80" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-30" value="DefaultMQProducer" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-200" y="200" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-31" value="消费者" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="870" y="160" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-32" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFCC;" parent="1" vertex="1">
          <mxGeometry x="220" y="160" width="540" height="110" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-253" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-92" target="r9P3kUow48pfhCPYGJET-227" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-254" value="消息发送" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-253" vertex="1" connectable="0">
          <mxGeometry x="-0.0083" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-33" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFFF;" parent="1" vertex="1">
          <mxGeometry x="-200" y="450" width="310" height="410" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-35" value="消息发送" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-200" y="450" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-36" value="rebalanceimpl" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1490" y="160" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-37" value="broker" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="220" y="600" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-38" value="存储引擎" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="220" y="1210" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-39" value="commitlog" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="320" y="1210" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-40" value="consumequeue" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="420" y="1210" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-41" value="consumequeue" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="520" y="1210" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-43" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFE6;" parent="1" vertex="1">
          <mxGeometry x="940" y="570" width="930" height="280" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-44" value="消息拉取" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="940" y="570" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-48" value="namesrv" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="220" y="-130" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="y0UDDYrPNZuOIyUpv4dn-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.571;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="r9P3kUow48pfhCPYGJET-49" target="r9P3kUow48pfhCPYGJET-144" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y0UDDYrPNZuOIyUpv4dn-2" value="&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;update&lt;/font&gt;&lt;/b&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="y0UDDYrPNZuOIyUpv4dn-1" vertex="1" connectable="0">
          <mxGeometry x="-0.8802" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-49" value="DefaultRequestProcessor [RequestCode.REGISTER_BROKER,GET_ROUTEINTO_BY_TOPIC]" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="220" y="110" width="540" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-54" target="r9P3kUow48pfhCPYGJET-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-56" value="resister" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-55" vertex="1" connectable="0">
          <mxGeometry x="0.0297" y="-5" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-54" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="400" y="570" as="targetPoint" />
            <Array as="points">
              <mxPoint x="160" y="270" />
              <mxPoint x="160" y="560" />
              <mxPoint x="380" y="560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-70" value="sendHeartBeat" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-69" vertex="1" connectable="0">
          <mxGeometry x="-0.856" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-54" value="defaultMQProducerImpl" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-200" y="240" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-455" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-57" target="r9P3kUow48pfhCPYGJET-79" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="410" y="240" />
              <mxPoint x="410" y="190" />
              <mxPoint x="-250" y="190" />
              <mxPoint x="-250" y="310" />
              <mxPoint x="-130" y="310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-458" value="监听变更通知上层" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-455" vertex="1" connectable="0">
          <mxGeometry x="0.0552" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-57" value="producerTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="220" y="240" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-58" value="mqclientinstance" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="220" y="160" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-59" value="consumerTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="620" y="240" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.519;entryY=-0.013;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="r9P3kUow48pfhCPYGJET-63" target="r9P3kUow48pfhCPYGJET-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-68" value="注册生产者和消费者与连接通道关系到broker" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-67" vertex="1" connectable="0">
          <mxGeometry x="0.0644" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-63" value="MQClientAPIImpl" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="430" y="510" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-153" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="r9P3kUow48pfhCPYGJET-64" target="r9P3kUow48pfhCPYGJET-144" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-64" value="brokerAddrTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="410" y="240" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-166" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.638;entryY=-0.012;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="r9P3kUow48pfhCPYGJET-65" target="r9P3kUow48pfhCPYGJET-36" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1200" y="30" as="targetPoint" />
            <Array as="points">
              <mxPoint x="810" y="455" />
              <mxPoint x="810" y="140" />
              <mxPoint x="1547" y="140" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-65" value="rebalanceService20s间隔自旋" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="570" y="440" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-66" value="pullMessageService自旋" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="490" y="480" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-71" value="普通消息" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-70" y="480" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-72" value="延时消息" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="50" y="480" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-73" value="事务消息" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-10" y="480" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-74" value="oneway" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-140" y="450" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-75" value="同步" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-40" y="450" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-76" value="异步" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-90" y="450" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-79" value="topicPublishInfoTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="-200" y="270" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-80" value="sendDefaultImpl" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-200" y="560" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-81" value="sendKernelImpl" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-200" y="690" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-82" value="服务发现" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-100" y="560" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-83" value="负载均衡" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry y="560" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-84" value="容错机制-同步重试" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-100" y="590" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-85" value="&amp;nbsp;处理错误表" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry y="590" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-86" value="消息id 钩子执行" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-100" y="720" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-87" value="请求头构建" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry y="720" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-88" value="异步重试" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-100" y="750" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-89" value="钩子执行" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry y="750" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-90" value="消息轨迹" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-30" y="200" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-91" value="mqclientinstance查找broker地址" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-100" y="690" width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-92" value="注意最底层的通信层还有一个rpchook" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-200" y="830" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-93" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFFF;" parent="1" vertex="1">
          <mxGeometry x="-760" y="560" width="430" height="330" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-94" value="topic服务发现" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-760" y="560" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-95" value="topicPublishInfoTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="-760" y="600" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-99" value="更新" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-760" y="620" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-100" value="级联更新" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-760" y="680" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-101" value="本地topicPublishInfoTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="-760" y="710" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-102" value="rebalanceImpl.topicSubscribeInfoTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="-570" y="710" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-103" value="默认topic进行发现" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-760" y="740" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-109" value="更新" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-760" y="770" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-110" value="级联更新" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-760" y="830" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-111" value="本地topicPublishInfoTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="-760" y="860" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-112" value="rebalanceImpl.topicSubscribeInfoTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="-570" y="860" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-113" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFFF;" parent="1" vertex="1">
          <mxGeometry x="-760" y="910" width="430" height="140" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-114" value="负载均衡" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-760" y="910" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-116" value="MQFaultStrategy" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-760" y="970" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-117" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#A9C4EB;" parent="1" vertex="1">
          <mxGeometry x="220" y="1260" width="540" height="110" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-122" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-119" target="r9P3kUow48pfhCPYGJET-121" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-119" value="递归轮询可用的" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-630" y="970" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-120" value="轮询" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-490" y="970" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-121" value="兜底" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-630" y="1020" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-125" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-123" target="r9P3kUow48pfhCPYGJET-119" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-126" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-123" target="r9P3kUow48pfhCPYGJET-120" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-123" value="sendLatencyFaultEnable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-570" y="930" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-127" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFFF;" parent="1" vertex="1">
          <mxGeometry x="-330" y="910" width="430" height="140" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-128" value="&amp;nbsp;处理错误表" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-330" y="910" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-129" value="&amp;nbsp;处理错误表" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-330" y="960" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-130" value="LatencyFaultTolerance.faultItemTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="-230" y="960" width="330" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-133" value="mqclientinstance与nameserver通信进行发现" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-760" y="510" width="430" height="50" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-134" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFCC;" parent="1" vertex="1">
          <mxGeometry x="220" y="270" width="540" height="120" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-135" value="mQClientAPIImpl" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="280" y="270" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-136" value="pullMessageService" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="400" y="270" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-137" value="rebalanceService" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="520" y="270" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-138" value="startScheduledTask" style="html=1;dashed=0;whitespace=wrap;fillColor=#66FF66;" parent="1" vertex="1">
          <mxGeometry x="640" y="270" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-139" value="start" style="html=1;dashed=0;whitespace=wrap;fillColor=#66FF66;" parent="1" vertex="1">
          <mxGeometry x="220" y="270" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-140" value="静态服务器地址fetchNameServerAddr" style="html=1;dashed=0;whitespace=wrap;fillColor=#66FF66;" parent="1" vertex="1">
          <mxGeometry x="480" y="290" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-141" value="updateTopicRouteInfoFromNameServer根据&lt;br&gt;producer和consumer表的topic更新topicRouteTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#66FF66;" parent="1" vertex="1">
          <mxGeometry x="480" y="310" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-142" value="sendHeartbeatToAllBrokerWithLock&lt;br&gt;&amp;nbsp;因为broker变化所以通信通道元信息也要不断维护" style="html=1;dashed=0;whitespace=wrap;fillColor=#66FF66;" parent="1" vertex="1">
          <mxGeometry x="480" y="340" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-143" value="persistAllConsumerOffset" style="html=1;dashed=0;whitespace=wrap;fillColor=#66FF66;" parent="1" vertex="1">
          <mxGeometry x="480" y="370" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-145" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-144" target="r9P3kUow48pfhCPYGJET-64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-146" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.351;entryY=0.022;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="r9P3kUow48pfhCPYGJET-144" target="r9P3kUow48pfhCPYGJET-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-147" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-144" target="r9P3kUow48pfhCPYGJET-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-456" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0.621;entryY=0.033;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="r9P3kUow48pfhCPYGJET-144" target="r9P3kUow48pfhCPYGJET-183" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="780" y="198" />
              <mxPoint x="780" y="70" />
              <mxPoint x="1652" y="70" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-457" value="监听变更通知上层" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-456" vertex="1" connectable="0">
          <mxGeometry x="0.1613" y="1" relative="1" as="geometry">
            <mxPoint x="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-144" value="topicRouteTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="410" y="190" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-149" value="selectOneMessageQueue" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-570" y="910" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-150" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFB366;" parent="1" vertex="1">
          <mxGeometry x="220" y="-210" width="540" height="70" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-151" value="namesrv静态服务器地址: 返回格式ip:port;ip:port;" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="220" y="-210" width="540" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-155" value="topicRouteTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="-760" y="650" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-156" value="brokerAddrTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="-470" y="650" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-157" value="producerTable|consumerTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="-630" y="650" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-158" value="topicRouteTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="-760" y="800" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-159" value="brokerAddrTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="-470" y="800" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-160" value="producerTable|consumerTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="-630" y="800" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-168" value="defaultMQPushConsumer" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="930" y="160" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-178" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-169" target="r9P3kUow48pfhCPYGJET-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-180" value="register" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-178" vertex="1" connectable="0">
          <mxGeometry x="-0.3898" y="5" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-181" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.526;entryY=-0.01;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="r9P3kUow48pfhCPYGJET-169" target="r9P3kUow48pfhCPYGJET-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="840" y="275" />
              <mxPoint x="840" y="560" />
              <mxPoint x="504" y="560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-182" value="sendHeartBeat" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-181" vertex="1" connectable="0">
          <mxGeometry x="0.4781" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-169" value="DefaultMQPushConsumerImpl" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="870" y="230" width="170" height="90" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-170" value="consumeMessageService" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1040" y="230" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-173" value="offsetStore" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1040" y="260" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-174" value="messageListenerInner" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1040" y="290" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-175" value="offsetTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="1220" y="260" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-183" value="topicSubscribeInfoTable&amp;lt;topic,messagequeue/&amp;gt;" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="1490" y="210" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-184" value="subscriptionInner&amp;lt;topic,tag/&amp;gt;" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="1490" y="240" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-185" value="processQueueTable&amp;lt;messagequeue,processQ/&amp;gt;" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="1490" y="270" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-186" value="allocateMessageQueueStrategy" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1550" y="330" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-187" value="遍历topic&lt;br&gt;在平衡" style="html=1;dashed=0;whitespace=wrap;fillColor=#66FF66;" parent="1" vertex="1">
          <mxGeometry x="1490" y="330" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-188" value="拉取cid,&amp;nbsp;topicSubscribeInfoTable,进行负载分配" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1550" y="380" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-189" value="更新processQueueTable" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1550" y="435" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-200" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-190" target="r9P3kUow48pfhCPYGJET-199" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-190" value="新增则dispatchPullRequest" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1550" y="490" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-193" value="PullAPIWrapper" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1000" y="570" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-201" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-199" target="r9P3kUow48pfhCPYGJET-202" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="900" y="405" />
              <mxPoint x="900" y="503" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-199" value="&lt;span style=&quot;font-size: 11px ; background-color: rgb(255 , 255 , 255)&quot;&gt;添加到队列&lt;/span&gt;" style="shape=ellipse;html=1;dashed=0;whitespace=wrap;aspect=fixed;perimeter=ellipsePerimeter;fillColor=#66FF66;" parent="1" vertex="1">
          <mxGeometry x="1140" y="390" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-202" value="pullRequestQueue" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="640" y="480" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-205" value="解析传入的队列上的Pullrequest" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1000" y="620" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-206" value="流控100M或者1000条" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1000" y="670" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-208" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-207" target="r9P3kUow48pfhCPYGJET-202" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="770" y="500" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1285" y="800" />
              <mxPoint x="900" y="800" />
              <mxPoint x="900" y="503" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-207" value="&lt;span style=&quot;font-size: 11px ; background-color: rgb(255 , 255 , 255)&quot;&gt;添加到队列&lt;/span&gt;" style="shape=ellipse;html=1;dashed=0;whitespace=wrap;aspect=fixed;perimeter=ellipsePerimeter;fillColor=#66FF66;" parent="1" vertex="1">
          <mxGeometry x="1270" y="790" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-209" value="构建PullCallback" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1000" y="720" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-407" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-210" target="r9P3kUow48pfhCPYGJET-324" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1380" y="1180" as="targetPoint" />
            <Array as="points">
              <mxPoint x="840" y="775" />
              <mxPoint x="840" y="1170" />
              <mxPoint x="1450" y="1170" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-409" value="pullrequest" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-407" vertex="1" connectable="0">
          <mxGeometry x="-0.1752" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-210" value="pullAPIWrapper异步拉取" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1000" y="760" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-211" value="processQueue的红黑树添加消息" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1260" y="620" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-212" value="consumeMessageService提交ConsumeRequest" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1260" y="670" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-216" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-213" target="r9P3kUow48pfhCPYGJET-207" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-213" value="pullrequest返回给队列" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1260" y="720" width="270" height="25" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-214" value="" style="shape=rhombus;html=1;dashed=0;whitespace=wrap;perimeter=rhombusPerimeter;fillColor=#FFCCFF;" parent="1" vertex="1">
          <mxGeometry x="1470" y="280" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-215" value="" style="shape=rhombus;html=1;dashed=0;whitespace=wrap;perimeter=rhombusPerimeter;fillColor=#FFCCFF;" parent="1" vertex="1">
          <mxGeometry x="1240" y="630" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-217" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFE6;" parent="1" vertex="1">
          <mxGeometry x="940" y="860" width="930" height="280" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-218" value="消息消费" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="940" y="860" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-219" value="ConsumeMessageConcurrentlyService" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="940" y="910" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-220" value="ConsumeMessageOrderlyService" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1270" y="910" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-221" value="消费ConsumeRequest的分页msgs" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="940" y="980" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-222" value="分页处理ConsumeRequest的processQueue,按message offset顺序构建分页消费" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1270" y="980" width="450" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-223" value="重新消费之最大失败次数后上报重试队列" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1270" y="1030" width="450" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-224" value="上报重试队列" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="940" y="1030" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-225" value="消费进度" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="940" y="1090" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-226" value="消费进度" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1270" y="1090" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-227" value="SendMessageProcessor" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="220" y="700" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-228" value="消息拉取长短轮询suspend" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="487" y="670" width="273" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-230" value="消息存储" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="220" y="670" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-231" value="消息reput构建" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="480" y="1050" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-232" value="文件正常异常恢复" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="600" y="1050" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-233" value="文件删除" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="700" y="1050" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-234" value="同步刷盘" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="220" y="1050" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-235" value="异步刷盘" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="350" y="1050" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-237" value="文件管理" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="220" y="1260" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-238" value="假值0预热完成mmap&lt;br&gt;初始化" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="480" y="1320" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-239" value="mmap" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="350" y="1320" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-240" value="nameserver之间是无状态,producer对nameserver调用失败,指针++,跳转下个nameserver" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="220" y="-100" width="540" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-241" value="共享通信层" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFCC;" parent="1" vertex="1">
          <mxGeometry x="-640" y="10" width="540" height="40" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-242" value="消费者" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFFF;" parent="1" vertex="1">
          <mxGeometry x="-640" y="50" width="540" height="40" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-243" value="生产者" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFE6;" parent="1" vertex="1">
          <mxGeometry x="-640" y="-30" width="540" height="40" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-244" value="客户端" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-727" y="-30" width="85" height="120" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-245" value="注册中心" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFB366;" parent="1" vertex="1">
          <mxGeometry x="-640" y="-110" width="540" height="80" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-249" value="broker" style="html=1;dashed=0;whitespace=wrap;fillColor=#A9C4EB;" parent="1" vertex="1">
          <mxGeometry x="-640" y="-165" width="540" height="55" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-251" value="PullMessageProcessor[suspend机制]" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="490" y="700" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-252" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="220" y="880" width="540" height="150" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-256" value="消息轨迹" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="220" y="740" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-257" value="消费失败消息" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="360" y="740" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-258" value="死信处理并返回" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="220" y="780" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-260" value="事务halftopic消息| 普通消息存储" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="220" y="830" width="272" height="40" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-262" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="360" y="780" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-264" value="DefaultMessageStore" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="220" y="880" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-265" value="commitLog" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="220" y="910" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-266" value="indexService" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="350" y="910" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-267" value="consumeQueueTable&lt;br&gt;&amp;lt;topic,consumeQueue&amp;gt;" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="480" y="910" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-268" value="transientStorePool" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="635" y="910" width="125" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-271" value="reputMessageService" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCCC;" parent="1" vertex="1">
          <mxGeometry x="220" y="940" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-272" value="cleanCommitLogService" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCCC;" parent="1" vertex="1">
          <mxGeometry x="410" y="1000" width="165" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-273" value="cleanConsumeQueueService" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCCC;" parent="1" vertex="1">
          <mxGeometry x="570" y="1000" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-275" value="messageArrivingListener" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCCC;" parent="1" vertex="1">
          <mxGeometry x="410" y="940" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-276" value="haService" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCCC;" parent="1" vertex="1">
          <mxGeometry x="600" y="940" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-327" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-277" target="r9P3kUow48pfhCPYGJET-282" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-328" value="功能简介" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-327" vertex="1" connectable="0">
          <mxGeometry x="0.0384" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-277" value="flushConsumeQueueService" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="220" y="970" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-278" value="scheduleMessageService" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="410" y="970" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-279" value="allocateMappedFileService" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="600" y="880" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-281" value="scheduledExecutorService" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCCC;" parent="1" vertex="1">
          <mxGeometry x="220" y="1000" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-282" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-650" y="1265" width="680" height="385" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-283" value="DefaultMessageStore" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-650" y="1265" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-284" value="commitLog" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="-390" y="1265" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-285" value="indexService" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="-260" y="1265" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-286" value="consumeQueueTable&lt;br&gt;&amp;lt;topic,consumeQueue&amp;gt;" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="-130" y="1265" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-288" value="flushConsumeQueueService" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-650" y="1325" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-289" value="cleanCommitLogServicee[服务]" style="html=1;dashed=0;whitespace=wrap;fillColor=#9AC7BF;" parent="1" vertex="1">
          <mxGeometry x="-650" y="1595" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-290" value="cleanConsumeQueueService[服务]" style="html=1;dashed=0;whitespace=wrap;fillColor=#9AC7BF;" parent="1" vertex="1">
          <mxGeometry x="-650" y="1565" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-291" value="allocateMappedFileService" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-650" y="1355" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-292" value="reputMessageService[线程]" style="html=1;dashed=0;whitespace=wrap;fillColor=#B9E0A5;" parent="1" vertex="1">
          <mxGeometry x="-650" y="1505" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-293" value="haService" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-650" y="1415" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-294" value="indexService" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-650" y="1385" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-295" value="scheduleMessageService[线程]" style="html=1;dashed=0;whitespace=wrap;fillColor=#97D077;" parent="1" vertex="1">
          <mxGeometry x="-650" y="1535" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-296" value="transientStorePool" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="-520" y="1265" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-297" value="messageArrivingListener" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-650" y="1475" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-298" value="1秒自旋consumequeue刷盘线程" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFE6;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="-460" y="1325" width="490" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-299" value="延时队列consumequeue推送至普通consumequeue调度" style="html=1;dashed=0;whitespace=wrap;fillColor=#97D077;" parent="1" vertex="1">
          <mxGeometry x="-460" y="1535" width="490" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-300" value="index和consumequeue过期文件删除服务【bycommitlog删除】" style="html=1;dashed=0;whitespace=wrap;fillColor=#9AC7BF;" parent="1" vertex="1">
          <mxGeometry x="-460" y="1565" width="490" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-301" value="commitlog过期删除服务[手动 4点72小时以及磁盘空间剩余量]" style="html=1;dashed=0;whitespace=wrap;fillColor=#9AC7BF;" parent="1" vertex="1">
          <mxGeometry x="-460" y="1595" width="490" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-306" value="scheduledExecutorService[线程]" style="html=1;dashed=0;whitespace=wrap;fillColor=#9AC7BF;" parent="1" vertex="1">
          <mxGeometry x="-650" y="1625" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-309" value="mmap文件创建写入假值0进行预热 mlock内存锁定" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFE6;" parent="1" vertex="1">
          <mxGeometry x="-460" y="1355" width="490" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-312" value="10秒调度cleanCommitLogService和cleanConsumeQueueService" style="html=1;dashed=0;whitespace=wrap;fillColor=#9AC7BF;" parent="1" vertex="1">
          <mxGeometry x="-460" y="1625" width="490" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-313" value="1毫秒自旋通过commitlog构建consumequeue,indexservice以及messageArrivingListener通知" style="html=1;dashed=0;whitespace=wrap;fillColor=#B9E0A5;" parent="1" vertex="1">
          <mxGeometry x="-460" y="1505" width="490" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-314" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#B9E0A5;" parent="1" vertex="1">
          <mxGeometry x="-460" y="1475" width="490" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-315" value="PullRequestHoldService" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="-460" y="1475" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-316" value="index msgkey,唯一索引" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-460" y="1385" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-317" value="集群同步，异步日志服务" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-460" y="1415" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-319" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#A9C4EB;" parent="1" vertex="1">
          <mxGeometry x="760" y="1180" width="540" height="320" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-320" value="消息追加" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="760" y="1180" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-321" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#A9C4EB;" parent="1" vertex="1">
          <mxGeometry x="760" y="1500" width="540" height="270" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-322" value="消息刷盘" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="760" y="1500" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-323" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#A9C4EB;" parent="1" vertex="1">
          <mxGeometry x="1450" y="1180" width="540" height="340" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-324" value="消息拉取处理器长轮询" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1450" y="1180" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-325" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#A9C4EB;" parent="1" vertex="1">
          <mxGeometry x="1450" y="1530" width="540" height="270" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-326" value="消息队列和索引构建" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1450" y="1530" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-329" value="commitlog.putMessage" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="760" y="1210" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-330" value="mappedFile.appendMessage(写满二次追加)" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="760" y="1240" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-333" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="r9P3kUow48pfhCPYGJET-331" target="r9P3kUow48pfhCPYGJET-332" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-331" value="mappedFile.appendMessage(写满二次追加)" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="760" y="1270" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-336" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-332" target="r9P3kUow48pfhCPYGJET-335" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-337" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-332" target="r9P3kUow48pfhCPYGJET-334" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-332" value="读写分离" style="rhombus;whiteSpace=wrap;html=1;dashed=0;" parent="1" vertex="1">
          <mxGeometry x="857.5" y="1322" width="55" height="60" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-334" value="直接内存" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="845" y="1397" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-335" value="mmap缓冲区" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="930" y="1342" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-339" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-338" target="r9P3kUow48pfhCPYGJET-322" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-340" value="同步或者异步刷盘" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-339" vertex="1" connectable="0">
          <mxGeometry x="-0.1558" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-338" value="写入" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="930" y="1397" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-341" value="主从同步" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="970" y="1480" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-350" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-345" target="r9P3kUow48pfhCPYGJET-346" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-353" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-345" target="r9P3kUow48pfhCPYGJET-347" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-345" value="同步异步" style="rhombus;whiteSpace=wrap;html=1;dashed=0;" parent="1" vertex="1">
          <mxGeometry x="865.63" y="1560" width="55" height="60" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-351" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-346" target="r9P3kUow48pfhCPYGJET-348" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-365" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-346" target="r9P3kUow48pfhCPYGJET-349" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-346" value="堆外内存" style="rhombus;whiteSpace=wrap;html=1;dashed=0;" parent="1" vertex="1">
          <mxGeometry x="1067.5" y="1560" width="55" height="60" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-347" value="&lt;span style=&quot;color: rgb(0 , 0 , 255) ; background-color: rgb(199 , 237 , 204) ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9pt&quot;&gt;10毫秒自旋&lt;/span&gt;GroupCommitService" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="800" y="1645" width="186.25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-369" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-348" target="r9P3kUow48pfhCPYGJET-368" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-414" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-348" target="r9P3kUow48pfhCPYGJET-395" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-415" value="同步刷盘/异步" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-414" vertex="1" connectable="0">
          <mxGeometry x="-0.081" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-348" value="200ms自旋commitLogService" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1140" y="1575" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-373" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-349" target="r9P3kUow48pfhCPYGJET-372" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-349" value="500ms自旋flushCommitLogService" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1000" y="1645" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-357" value="requestsWrite|requestsRead" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="800" y="1670" width="186.25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-362" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-360" target="r9P3kUow48pfhCPYGJET-319" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="780" y="1715" />
              <mxPoint x="780" y="1540" />
              <mxPoint x="1030" y="1540" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-363" value="CompletableFuture" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-362" vertex="1" connectable="0">
          <mxGeometry x="0.1511" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-374" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-360" target="r9P3kUow48pfhCPYGJET-372" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-360" value="客户端不关心则同步转异步flush" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="800" y="1700" width="186" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-370" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-368" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1190" y="1660" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1220" y="1660" />
              <mxPoint x="1190" y="1660" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-371" value="wake" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-370" vertex="1" connectable="0">
          <mxGeometry x="0.1868" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-368" value="直接内存&amp;gt;fileChannel&amp;gt;mmap&lt;br&gt;直接内存回收在利用" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1140" y="1615" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-372" value="flush" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1000" y="1700" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-375" value="MappedFile" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="220" y="1290" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-377" value="fileChannel" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="350" y="1290" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-378" value="writeBuffer" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="480" y="1290" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-379" value="mappedByteBuffer" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="220" y="1320" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-381" value="transientStorePool[5个1G]" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="610" y="1290" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-382" value="mlock" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="610" y="1320" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-386" value="1ms自旋reputMessageService" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCE5FF;" parent="1" vertex="1">
          <mxGeometry x="1450" y="1560" width="540" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-387" value="正常倒数3个&lt;br&gt;异常根据savepoint" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="600" y="1080" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-388" value="CommitLogDispatcherBuildConsumeQueue" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1450" y="1590" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-389" value="CommitLogDispatcherBuildIndex" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1760" y="1590" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-390" value="IndexService.buildIndex" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1760" y="1620" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-391" value="msgkey,msgid" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1760" y="1650" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-392" value="indexfile.putkey" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1760" y="1680" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-393" value="mappedByteBuffer.put" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1760" y="1710" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-394" value="ConsumeQueue.putMessagePositionInfo构建cq" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1450" y="1620" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-395" value="storeCheckpoint.setLogicsMsgTimestamp保持点持久化" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1450" y="1650" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-396" value="messageArrivingListener.arriving" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCE5FF;" parent="1" vertex="1">
          <mxGeometry x="1450" y="1740" width="540" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-398" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-397" target="r9P3kUow48pfhCPYGJET-323" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2000" y="1340" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1450" y="1800" />
              <mxPoint x="2020" y="1800" />
              <mxPoint x="2020" y="1340" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-401" value="notify&lt;br&gt;Message&lt;br&gt;Arriving" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-398" vertex="1" connectable="0">
          <mxGeometry x="-0.8855" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-410" value="&lt;pre style=&quot;background-color: rgb(199 , 237 , 204) ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 9pt&quot;&gt;&lt;br&gt;&lt;/pre&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-398" vertex="1" connectable="0">
          <mxGeometry x="-0.2034" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-411" value="topic&lt;br&gt;queueId&lt;br&gt;logicOffset&lt;br&gt;tagsCode" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-398" vertex="1" connectable="0">
          <mxGeometry x="-0.2078" y="-5" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-397" value="pullRequestHoldService" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="1450" y="1770" width="186.25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-449" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-402" target="r9P3kUow48pfhCPYGJET-405" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-450" value="长轮询5秒一次自旋检测&lt;br&gt;短轮询1秒一次自旋检测" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-449" vertex="1" connectable="0">
          <mxGeometry x="-0.2692" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-402" value="PullRequestHoldService" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1710" y="1303" width="140" height="52" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-420" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-403" target="r9P3kUow48pfhCPYGJET-416" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-403" value="PullMessageProcessor" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1450" y="1235" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-412" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-405" target="r9P3kUow48pfhCPYGJET-403" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1980" y="1329" />
              <mxPoint x="1980" y="1250" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-417" value="executeRequestWhenWakeup" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-412" vertex="1" connectable="0">
          <mxGeometry x="0.0258" y="4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-405" value="pullRequestTable&lt;br&gt;&amp;lt;topic@queueId&lt;br&gt;,ManyPullRequest&amp;gt;" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="1850" y="1303" width="120" height="52" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-416" value="processRequest" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1450" y="1280" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-425" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.305;entryY=-0.09;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="r9P3kUow48pfhCPYGJET-416" target="r9P3kUow48pfhCPYGJET-424" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1520" y="1355" as="sourcePoint" />
            <mxPoint x="1520" y="1390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-430" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-424" target="r9P3kUow48pfhCPYGJET-429" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-424" value="defaultmessagestore.getMessage" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1460" y="1362" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-426" value="服务端hash等过滤" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1790" y="1362" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-427" value="commitlog.getmessage" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1660" y="1362" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-439" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-428" target="r9P3kUow48pfhCPYGJET-438" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-444" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-428" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1380" y="1420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-445" value="返回 not found msg" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-444" vertex="1" connectable="0">
          <mxGeometry x="0.3203" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-428" value="suspend&amp;nbsp;&lt;br&gt;hasSuspendFlag" style="rhombus;whiteSpace=wrap;html=1;dashed=0;" parent="1" vertex="1">
          <mxGeometry x="1466.25" y="1445" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-431" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-429" target="r9P3kUow48pfhCPYGJET-428" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-432" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-429" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1380" y="1170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-433" value="返回" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-432" vertex="1" connectable="0">
          <mxGeometry x="0.5585" y="-3" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-429" value="found" style="rhombus;whiteSpace=wrap;html=1;dashed=0;" parent="1" vertex="1">
          <mxGeometry x="1510" y="1410" width="80" height="25" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-440" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-438" target="r9P3kUow48pfhCPYGJET-405" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-442" value="15秒" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-440" vertex="1" connectable="0">
          <mxGeometry x="-0.2413" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-441" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-438" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1910" y="1350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-443" value="1秒" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="r9P3kUow48pfhCPYGJET-441" vertex="1" connectable="0">
          <mxGeometry x="-0.523" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-438" value="&lt;span&gt;longPollingEnable&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;dashed=0;" parent="1" vertex="1">
          <mxGeometry x="1650" y="1457.5" width="150" height="25" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-451" value="服务端允许挂起并且客户端也允许挂起 才有轮询机制长轮询15秒3次,短轮询一次" style="shape=cloud;whiteSpace=wrap;html=1;shadow=1;fillColor=#CCCCCC;" parent="1" vertex="1">
          <mxGeometry x="1950" y="1220" width="520" height="40" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-453" value="没有挂起则不必谈&lt;br&gt;长短轮询" style="html=1;dashed=0;whitespace=wrap;shadow=1;fillColor=#CCCCCC;" parent="1" vertex="1">
          <mxGeometry x="1990" y="1180" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-454" value="消费进度管理" style="html=1;dashed=0;whitespace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1450" y="1500" width="540" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-463" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-459" target="r9P3kUow48pfhCPYGJET-462" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-459" value="服务端的信息&amp;lt;topic,服务端的messageQueue信息/&amp;gt;" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="1750" y="210" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-460" value="消费端的订阅信息 &amp;lt;topic，tag等订阅信息/&amp;gt;" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="1750" y="240" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-461" value="该jvm进程该消费者组对应的消费者应该处理的MessageQueue信息" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="1750" y="270" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-464" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="r9P3kUow48pfhCPYGJET-462" target="r9P3kUow48pfhCPYGJET-461" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-462" value="" style="ellipse;shape=doubleEllipse;html=1;dashed=0;whitespace=wrap;aspect=fixed;shadow=1;fillColor=#66FF66;" parent="1" vertex="1">
          <mxGeometry x="2290" y="240" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-465" value="rebalanceImpl的核心就是根据topicSubscribeInfoTable&lt;br&gt;处理processQueueTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="2320" y="240" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-1" value="topicQueueTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFE6CC;" vertex="1" parent="1">
          <mxGeometry x="570" y="-10" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-2" value="clusterAddrTable&amp;nbsp;" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFE6CC;" vertex="1" parent="1">
          <mxGeometry x="570" y="30" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-3" value="filterServerTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFE6CC;" vertex="1" parent="1">
          <mxGeometry x="570" y="70" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-4" value="brokerAddrTable&amp;nbsp;" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFE6CC;" vertex="1" parent="1">
          <mxGeometry x="470" y="30" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-5" value="brokerLiveTable&amp;nbsp;" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFE6CC;" vertex="1" parent="1">
          <mxGeometry x="470" y="70" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-6" value="routeinfoManager" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFB366;" vertex="1" parent="1">
          <mxGeometry x="470" y="-10" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-22" value="" style="endArrow=none;html=1;rounded=0;dashed=1;dashPattern=1 2;startArrow=none;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="199.35833333333312" y="2320" as="sourcePoint" />
            <mxPoint x="198.95" y="2390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-24" value="" style="endArrow=none;html=1;rounded=0;dashed=1;dashPattern=1 2;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="199.42000000000007" y="2040" as="sourcePoint" />
            <mxPoint x="199.62470588235283" y="2100.0000000000005" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-25" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCE5FF;" vertex="1" parent="1">
          <mxGeometry x="-330" y="2220" width="1010" height="440" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-36" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-26" target="GdMtMQtGJzXE8QDH4rNj-28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-37" value="1创建" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-36">
          <mxGeometry x="0.0133" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-26" target="GdMtMQtGJzXE8QDH4rNj-28">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-380" y="2440" />
              <mxPoint x="-355" y="2440" />
              <mxPoint x="-355" y="2258" />
              <mxPoint x="-330" y="2258" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-45" value="设置&lt;br&gt;关闭&lt;br&gt;钩子" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-44">
          <mxGeometry x="0.1481" y="2" relative="1" as="geometry">
            <mxPoint y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-26" value="BrokerStartup.&lt;br&gt;createBrokerController&lt;br&gt;完成组件构建&lt;br&gt;组件初始化&lt;br&gt;组件关系注入" style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="-520" y="2220" width="140" height="250" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-91" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.003;entryY=0.15;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-27" target="GdMtMQtGJzXE8QDH4rNj-94">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-92" value="4start" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-91">
          <mxGeometry x="0.1619" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-28" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="-330" y="2220" width="1010" height="280" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-30" value="线程池" style="html=1;dashed=0;whitespace=wrap;fillColor=#66B2FF;" vertex="1" parent="1">
          <mxGeometry x="-330" y="2250" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-38" value="队列" style="html=1;dashed=0;whitespace=wrap;fillColor=#66B2FF;" vertex="1" parent="1">
          <mxGeometry x="-200" y="2250" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-39" value="配置" style="html=1;dashed=0;whitespace=wrap;fillColor=#66B2FF;" vertex="1" parent="1">
          <mxGeometry x="-60" y="2250" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-40" value="通信" style="html=1;dashed=0;whitespace=wrap;fillColor=#66B2FF;" vertex="1" parent="1">
          <mxGeometry x="250" y="2250" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-41" value="topic管理" style="html=1;dashed=0;whitespace=wrap;fillColor=#66B2FF;" vertex="1" parent="1">
          <mxGeometry x="380" y="2250" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-42" value="etc" style="html=1;dashed=0;whitespace=wrap;fillColor=#66B2FF;" vertex="1" parent="1">
          <mxGeometry x="640" y="2250" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-43" value="统计" style="html=1;dashed=0;whitespace=wrap;fillColor=#66B2FF;" vertex="1" parent="1">
          <mxGeometry x="500" y="2250" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-46" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6E6E6;" vertex="1" parent="1">
          <mxGeometry x="-330" y="2310" width="430" height="190" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-52" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-49" target="GdMtMQtGJzXE8QDH4rNj-63">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="160" y="2310" as="targetPoint" />
            <Array as="points">
              <mxPoint x="145" y="2325" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-49" target="GdMtMQtGJzXE8QDH4rNj-59">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="135" y="2270" />
              <mxPoint x="73" y="2270" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-68" value="2" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-66">
          <mxGeometry x="0.0811" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-49" target="GdMtMQtGJzXE8QDH4rNj-60">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="170" y="2270" />
              <mxPoint x="224" y="2270" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-69" value="2" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-67">
          <mxGeometry x="0.1046" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-49" target="GdMtMQtGJzXE8QDH4rNj-74">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="145" y="2325" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-78" value="2initialize" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-76">
          <mxGeometry x="-0.6571" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-82" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-49" target="GdMtMQtGJzXE8QDH4rNj-80">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-49" value="BrokerController" style="html=1;dashed=0;whitespace=wrap;fillColor=#66B2FF;" vertex="1" parent="1">
          <mxGeometry x="95" y="2220" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-58" value="topicConfigManager" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="-180" y="2280" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-59" target="GdMtMQtGJzXE8QDH4rNj-58">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-59" value="consumerOffsetManager" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry y="2280" width="145" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-60" target="GdMtMQtGJzXE8QDH4rNj-61">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-60" value="subscriptionGroupManager" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="185" y="2280" width="155" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-61" value="consumerFilterManager" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="370" y="2280" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-63" value="DefaultMessageStore" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCCC;" vertex="1" parent="1">
          <mxGeometry x="-330" y="2310" width="430" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-72" value="consumerFilterManager" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="515" y="2280" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-73" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6E6E6;" vertex="1" parent="1">
          <mxGeometry x="190" y="2310" width="490" height="190" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-74" value="remotingServer" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCCC;" vertex="1" parent="1">
          <mxGeometry x="190" y="2310" width="490" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-80" value="schedule" style="html=1;dashed=0;whitespace=wrap;fillColor=#66B2FF;" vertex="1" parent="1">
          <mxGeometry x="100" y="2418" width="90" height="82" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-81" value="RequestCode一Processor一Executor" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCCC;" vertex="1" parent="1">
          <mxGeometry x="190" y="2340" width="490" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-83" value="consumeQueueTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCCC;" vertex="1" parent="1">
          <mxGeometry x="-30" y="2404" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-85" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-84" target="GdMtMQtGJzXE8QDH4rNj-83">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-84" value="CommitLog" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCCC;" vertex="1" parent="1">
          <mxGeometry x="-330" y="2404" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-86" value="etc..." style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCCC;" vertex="1" parent="1">
          <mxGeometry x="-330" y="2470" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-87" value="reputMessageService" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCCC;" vertex="1" parent="1">
          <mxGeometry x="-50" y="2470" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-89" value="allocateMappedFileService" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCCC;" vertex="1" parent="1">
          <mxGeometry x="-330" y="2437" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-90" value="messageArrivingListener" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCCC;" vertex="1" parent="1">
          <mxGeometry x="-50" y="2437" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-27" value="BrokerStartup.&lt;br&gt;start&lt;br&gt;完成文件恢复" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCFF;" vertex="1" parent="1">
          <mxGeometry x="-520" y="2500" width="140" height="160" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-94" value="启动messageStore" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCFF;" vertex="1" parent="1">
          <mxGeometry x="-330" y="2500" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-95" value="3load完成文件恢复" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="-330" y="2350" width="430" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-96" value="启动通信remotingServer" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCFF;" vertex="1" parent="1">
          <mxGeometry x="40" y="2500" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-98" value="启动nameserver地址资源拉取brokerOuterAPI" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCFF;" vertex="1" parent="1">
          <mxGeometry x="400" y="2500" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-99" value="启动pullrequesr挂起服务&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCFF;" vertex="1" parent="1">
          <mxGeometry x="-330" y="2580" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-102" value="启动broker统计brokerStatsManager" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCFF;" vertex="1" parent="1">
          <mxGeometry x="400" y="2580" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-103" value="启动nameserver注册任务" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCFF;" vertex="1" parent="1">
          <mxGeometry x="40" y="2580" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-104" value="broker启动" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="-530" y="2150" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-106" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="1080" y="2335" width="400" height="145" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-116" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.625;entryY=-0.043;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-107" target="GdMtMQtGJzXE8QDH4rNj-111">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-118" value="持有" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-116">
          <mxGeometry x="0.1169" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-120" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.375;entryY=0.036;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#FF6666;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-107" target="GdMtMQtGJzXE8QDH4rNj-119">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-107" value="DefaultMQProducer" style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1080" y="2335" width="400" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-115" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.097;entryY=1.014;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-111" target="GdMtMQtGJzXE8QDH4rNj-107">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-117" value="相互" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-115">
          <mxGeometry x="-0.24" y="-5" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-124" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#0000FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-111" target="GdMtMQtGJzXE8QDH4rNj-123">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-126" value="持有" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-124">
          <mxGeometry x="-0.0937" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-148" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#000000;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-111" target="GdMtMQtGJzXE8QDH4rNj-128">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-149" value="控制" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-148">
          <mxGeometry x="0.0017" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-151" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-111" target="GdMtMQtGJzXE8QDH4rNj-127">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-152" value="持有" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-151">
          <mxGeometry x="-0.099" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-111" value="DefaultMQProducerImpl" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1080" y="2441.5" width="160" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-121" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.891;entryY=0.043;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#FF6666;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-119" target="GdMtMQtGJzXE8QDH4rNj-111">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-122" value="持有" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-121">
          <mxGeometry x="0.0739" y="5" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-119" value="traceDispatcher" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1320" y="2387.5" width="160" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-125" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;strokeColor=#0000FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-123" target="GdMtMQtGJzXE8QDH4rNj-119">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-123" value="SendMessageTraceHookImpl" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1320" y="2441.5" width="160" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-144" value="互相持有" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;strokeColor=#000000;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-127" target="GdMtMQtGJzXE8QDH4rNj-143">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1240" y="2505" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-127" value="MQClientInstance" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1080" y="2500" width="160" height="20" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-129" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#000000;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-128" target="GdMtMQtGJzXE8QDH4rNj-127">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-132" value="构建" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-129">
          <mxGeometry x="-0.4484" y="4" relative="1" as="geometry">
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-128" value="MQClientManager" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="857.5" y="2500" width="160" height="20" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-131" value="factoryTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="857.5" y="2520" width="160" height="20" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-136" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.688;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#000000;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-133" target="GdMtMQtGJzXE8QDH4rNj-134">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1211" y="2590" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-159" value="持有" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-136">
          <mxGeometry x="0.5176" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-150" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#000000;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-133" target="GdMtMQtGJzXE8QDH4rNj-142">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-158" value="持有" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-150">
          <mxGeometry x="-0.0335" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-133" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1080" y="2520" width="400" height="70" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-135" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.107;entryY=1.003;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#000000;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-134" target="GdMtMQtGJzXE8QDH4rNj-133">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-137" value="互相" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-135">
          <mxGeometry x="0.1326" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-134" value="mQAdminImpl&lt;br&gt;管理命令实现类" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1080" y="2620" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-140" value="rebalanceService" style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1080" y="2520" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-141" value="pullMessageService" style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1215" y="2520" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-142" value="MQClientAPIImpl&lt;br&gt;broker与nameservrer交互" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1280" y="2620" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-145" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#000000;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-143" target="GdMtMQtGJzXE8QDH4rNj-127">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-143" value="ClientRemotingProcessor" style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1330" y="2500" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-153" value="持有一个内部生产者组CLIENT_INNER_PRODUCER" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCFF;" vertex="1" parent="1">
          <mxGeometry x="1080" y="2570" width="400" height="20" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-155" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-143" target="GdMtMQtGJzXE8QDH4rNj-142">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1510" y="2510" />
              <mxPoint x="1510" y="2650" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-156" value="&lt;br&gt;req-resp&lt;br&gt;消息处理" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-155">
          <mxGeometry x="0.0019" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-167" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-157" target="GdMtMQtGJzXE8QDH4rNj-164">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-168" value="addr调用" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-167">
          <mxGeometry x="-0.3348" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-157" value="RequestCode一Processor一Executor" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCCC;" vertex="1" parent="1">
          <mxGeometry x="1280" y="2660" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-160" value="producerTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="1080" y="2550" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-161" value="" style="shape=ellipse;html=1;dashed=0;whitespace=wrap;perimeter=ellipsePerimeter;fillColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="1228" y="2466.5" width="12" height="10" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-162" value="" style="shape=ellipse;html=1;dashed=0;whitespace=wrap;perimeter=ellipsePerimeter;fillColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="1188" y="2560" width="12" height="10" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-163" value="topicPublishInfoTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="1360" y="2350" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-164" value="RemotingClient" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCCCCC;" vertex="1" parent="1">
          <mxGeometry x="1280" y="2710" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-174" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-166" target="GdMtMQtGJzXE8QDH4rNj-169">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-180" value="tcp/ip" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-174">
          <mxGeometry x="-0.1667" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-175" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-166" target="GdMtMQtGJzXE8QDH4rNj-173">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-181" value="tcp/ip" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-175">
          <mxGeometry x="-0.3163" y="-1" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-176" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-166" target="GdMtMQtGJzXE8QDH4rNj-172">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1090" y="2740" />
              <mxPoint x="1090" y="2892" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-179" value="tcp/ip" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-176">
          <mxGeometry x="-0.6486" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-177" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-166" target="GdMtMQtGJzXE8QDH4rNj-170">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-182" value="tcp/ip" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-177">
          <mxGeometry x="-0.0176" y="-2" relative="1" as="geometry">
            <mxPoint x="-1" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-178" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=1.013;entryY=0.628;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-166" target="GdMtMQtGJzXE8QDH4rNj-171">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1480" y="2720" />
              <mxPoint x="1510" y="2720" />
              <mxPoint x="1510" y="2900" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-183" value="tcp/ip" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-178">
          <mxGeometry x="0.2492" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-166" value="&amp;nbsp;channelTables&lt;br&gt;持有所有地址对应的通道" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="1280" y="2740" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-169" value="nameserver" style="shape=ellipse;html=1;dashed=0;whitespace=wrap;aspect=fixed;perimeter=ellipsePerimeter;shadow=1;fillColor=#CCCCFF;" vertex="1" parent="1">
          <mxGeometry x="1130" y="2800" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-170" value="broker-1" style="shape=ellipse;html=1;dashed=0;whitespace=wrap;aspect=fixed;perimeter=ellipsePerimeter;shadow=1;fillColor=#CCCCFF;" vertex="1" parent="1">
          <mxGeometry x="1420" y="2770" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-171" value="broker1-1" style="shape=ellipse;html=1;dashed=0;whitespace=wrap;aspect=fixed;perimeter=ellipsePerimeter;shadow=1;fillColor=#CCCCFF;" vertex="1" parent="1">
          <mxGeometry x="1420" y="2862" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-172" value="broker1-0" style="shape=ellipse;html=1;dashed=0;whitespace=wrap;aspect=fixed;perimeter=ellipsePerimeter;shadow=1;fillColor=#CCCCFF;" vertex="1" parent="1">
          <mxGeometry x="1310" y="2862" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-173" value="broker-0" style="shape=ellipse;html=1;dashed=0;whitespace=wrap;aspect=fixed;perimeter=ellipsePerimeter;shadow=1;fillColor=#CCCCFF;" vertex="1" parent="1">
          <mxGeometry x="1310" y="2770" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-184" value="MQClientInstance" style="html=1;dashed=0;whitespace=wrap;shadow=1;fillColor=#CCCCFF;" vertex="1" parent="1">
          <mxGeometry x="715" y="2730" width="360" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-185" value="Producer...1" style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="715" y="2695" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-186" value="Producer..." style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="835" y="2695" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-187" value="Producer...n" style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="955" y="2695" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-188" value="Consumer...1" style="html=1;dashed=0;whitespace=wrap;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="715" y="2660" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-189" value="Consumer..." style="html=1;dashed=0;whitespace=wrap;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="835" y="2660" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-190" value="Consumer...n" style="html=1;dashed=0;whitespace=wrap;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="955" y="2660" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-218" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-191">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-40" y="3107" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-220" value="resister to mqclient" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-218">
          <mxGeometry x="-0.1724" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-191" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFFF;" vertex="1" parent="1">
          <mxGeometry x="-525" y="3090" width="310" height="70" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-192" value="DefaultMQProducer" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-525" y="3060" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-193" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFFF;" vertex="1" parent="1">
          <mxGeometry x="-525" y="3160" width="310" height="250" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-194" value="消息发送" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-525" y="3160" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-197" value="defaultMQProducerImpl" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-525" y="3090" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-198" value="普通消息" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-395" y="3190" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-199" value="延时消息" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-275" y="3190" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-200" value="事务消息" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-335" y="3190" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-201" value="oneway" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-465" y="3160" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-202" value="同步" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-365" y="3160" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-203" value="异步" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-415" y="3160" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-204" value="topicPublishInfoTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="-525" y="3120" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-205" value="sendDefaultImpl" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="-525" y="3230" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-206" value="sendKernelImpl" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="-525" y="3290" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-207" value="服务发现" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="-425" y="3230" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-208" value="负载均衡" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="-325" y="3230" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-209" value="容错机制-同步重试" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="-425" y="3260" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-210" value="&amp;nbsp;处理错误表" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="-325" y="3260" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-211" value="消息id 钩子执行" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="-425" y="3320" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-212" value="请求头构建" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="-325" y="3320" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-213" value="异步重试" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="-425" y="3350" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-214" value="钩子执行" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="-325" y="3350" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-215" value="消息轨迹" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-355" y="3060" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-216" value="mqclientinstance查找broker地址" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="-425" y="3290" width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-217" value="注意最底层的通信层还有一个rpchook" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="-525" y="3380" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-221" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-60" y="3150" as="targetPoint" />
            <mxPoint x="-205" y="3150" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-224" value="sendHeartBeat to broker" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-221">
          <mxGeometry x="-0.2286" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-227" value="DefaultMQProducer&lt;br&gt;sendKernelImpl" style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1720" y="2464.5" width="240" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-247" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.166;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-228" target="GdMtMQtGJzXE8QDH4rNj-241">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-228" value="同步" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1720" y="2499.5" width="80" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-248" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.829;entryY=-0.075;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-230" target="GdMtMQtGJzXE8QDH4rNj-241">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-230" value="ONEWAY" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1880" y="2499.5" width="80" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-246" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-231" target="GdMtMQtGJzXE8QDH4rNj-241">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-231" value="异步" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1800" y="2499.5" width="80" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-232" value="DefaultMQProducer&lt;br&gt;sendDefaultImpl" style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1720" y="2367" width="240" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-237" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-234" target="GdMtMQtGJzXE8QDH4rNj-227">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-234" value="CommunicationMode" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1720" y="2402" width="240" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-241" value="MQClientAPIImpl&lt;br&gt;sendMessage" style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1720" y="2560" width="240" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-249" value="同步" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1720" y="2595" width="80" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-250" value="ONEWAY" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1880" y="2595" width="80" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-256" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-251" target="GdMtMQtGJzXE8QDH4rNj-252">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-260" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-251" target="GdMtMQtGJzXE8QDH4rNj-258">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1860" y="2640" />
              <mxPoint x="2044" y="2640" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-251" value="异步" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1800" y="2595" width="80" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-252" value="remotingClient" style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1690" y="2660" width="310" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-253" value="invokeOneway" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1690" y="2695" width="80" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-270" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-254" target="GdMtMQtGJzXE8QDH4rNj-268">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-254" value="invokeAsync" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1770" y="2695" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-255" value="invokesync" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1880" y="2695" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-261" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.657;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2099.999999999999" y="2613.5" as="sourcePoint" />
            <mxPoint x="1852.5599999999995" y="2631" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2120" y="2613" />
              <mxPoint x="2120" y="2650" />
              <mxPoint x="1853" y="2650" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-258" value="onExceptionImpl" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1988" y="2595" width="112" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-264" value="构建&lt;br&gt;Rpc&lt;br&gt;消息&lt;br&gt;对象" style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1690" y="2560" width="30" height="70" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-265" value="构建&lt;br&gt;请&lt;br&gt;求&lt;br&gt;头" style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1690" y="2464.5" width="30" height="70" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-266" value="服容&lt;br&gt;务错&lt;br&gt;发重&lt;br&gt;现试" style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1690" y="2367" width="30" height="70" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-267" value="netty&lt;br&gt;通道&lt;br&gt;创建&lt;br&gt;" style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1660" y="2660" width="30" height="70" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-268" value="channel.writeAndFlush" style="html=1;dashed=0;whitespace=wrap;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1760" y="2765" width="130" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-269" value="rpc&lt;br&gt;h&lt;br&gt;o&lt;br&gt;o&lt;br&gt;k" style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1630" y="2660" width="30" height="70" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-275" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-271" target="GdMtMQtGJzXE8QDH4rNj-273">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-277" value="send" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-275">
          <mxGeometry x="-0.1389" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-276" value="exception" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-271" target="GdMtMQtGJzXE8QDH4rNj-273">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-271" value="sendDefaultImpl&lt;br&gt;发送消息" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="2330" y="2420" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-278" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-272" target="GdMtMQtGJzXE8QDH4rNj-271">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-280" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-272" target="GdMtMQtGJzXE8QDH4rNj-279">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-291" value="TopicPublishInfo" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-280">
          <mxGeometry x="-0.161" relative="1" as="geometry">
            <mxPoint y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-272" value="selectOneMessageQueue" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="2150" y="2420" width="158" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-297" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-273" target="GdMtMQtGJzXE8QDH4rNj-296">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-273" value="updateFaultItem" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="2530" y="2420" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-292" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-279" target="GdMtMQtGJzXE8QDH4rNj-285">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-279" value="MQFaultStrategy" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="2155" y="2317" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-281" value="DefaultMQProducerImpl" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="2020" y="2420" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-283" value="" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="2300" y="2171" width="330" height="196" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-287" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-285" target="GdMtMQtGJzXE8QDH4rNj-286">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2470" y="2220" />
              <mxPoint x="2390" y="2220" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-285" value="selectOneMessageQueue&lt;br&gt;" style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="2300" y="2171" width="330" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-290" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-286" target="GdMtMQtGJzXE8QDH4rNj-288">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-286" value="sendLatencyFaultEnable" style="shape=rhombus;html=1;dashed=0;whitespace=wrap;perimeter=rhombusPerimeter;shadow=0;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="2310" y="2230" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-288" value="LatencyFaultToleranceImpl" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="2305" y="2300" width="170" height="31" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-289" value="faultItemTable" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="2305" y="2329.5" width="170" height="31" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-295" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-293" target="GdMtMQtGJzXE8QDH4rNj-286">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-293" value="updateFaultItem" style="html=1;dashed=0;whitespace=wrap;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="2500" y="2237.5" width="130" height="35" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-298" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-296" target="GdMtMQtGJzXE8QDH4rNj-293">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-296" value="MQFaultStrategy" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="2630" y="2317" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-313" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFFF;" vertex="1" parent="1">
          <mxGeometry x="170" y="1740" width="140" height="120" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-314" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFE6;" vertex="1" parent="1">
          <mxGeometry x="450" y="1740" width="260" height="120" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-315" value="" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFCC;" vertex="1" parent="1">
          <mxGeometry x="170" y="1860" width="540" height="110" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-316" value="rebalanceimpl" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="450" y="1780" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-317" value="defaultMQProducerImpl" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="170" y="1739" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-327" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-318" target="GdMtMQtGJzXE8QDH4rNj-322">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="130" y="1955" />
              <mxPoint x="130" y="1795" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-336" value="修改发布信息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-327">
          <mxGeometry x="-0.01" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-318" value="producerTable&lt;br&gt;生产者集合" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="170" y="1940" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-337" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.319;entryY=0.02;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-319" target="GdMtMQtGJzXE8QDH4rNj-329">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="342" y="1880" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-338" value="1主动拉取" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-337">
          <mxGeometry x="0.6303" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-319" value="mqclientinstance" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="360" y="1860" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-328" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-320" target="GdMtMQtGJzXE8QDH4rNj-325">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="750" y="1955" />
              <mxPoint x="750" y="1845" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-335" value="3修改订阅信息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-328">
          <mxGeometry x="0.2033" y="1" relative="1" as="geometry">
            <mxPoint x="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-320" value="consumerTable&lt;br&gt;消费者集合" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="570" y="1940" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-321" value="brokerAddrTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="360" y="1930" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-322" value="topicPublishInfoTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="170" y="1790" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-331" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-323" target="GdMtMQtGJzXE8QDH4rNj-318">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-333" value="2处理生产者" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-331">
          <mxGeometry x="-0.1483" y="1" relative="1" as="geometry">
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-332" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-323" target="GdMtMQtGJzXE8QDH4rNj-320">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-334" value="2处理消费者" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-332">
          <mxGeometry x="-0.0364" relative="1" as="geometry">
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-323" value="topicRouteTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="360" y="1900" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-324" value="defaultMQPushConsumer" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="450" y="1740" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-325" value="topicSubscribeInfoTable&amp;lt;topic,messagequeue/&amp;gt;" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="450" y="1830" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-339" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.577;entryY=0.95;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-329" target="GdMtMQtGJzXE8QDH4rNj-321">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-341" value="1.2拉取结果处理" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-339">
          <mxGeometry x="0.0431" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-340" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-329" target="GdMtMQtGJzXE8QDH4rNj-323">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="540" y="2010" />
              <mxPoint x="540" y="1922" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-342" value="1.1拉取结果处理" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-340">
          <mxGeometry x="-0.1508" y="4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-329" value="nameserver" style="html=1;dashed=0;whitespace=wrap;fillColor=#CCFFFF;" vertex="1" parent="1">
          <mxGeometry x="170" y="2010" width="540" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-343" value="request" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="2194" y="2800" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-345" value="NettyClient" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="2194" y="2750" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-346" value="NettyServer" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="2414" y="2750" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-354" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-347" target="GdMtMQtGJzXE8QDH4rNj-353">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-364" value="2 构建&lt;br&gt;&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;ResponseFuture&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-354">
          <mxGeometry x="-0.7017" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-347" value="编解码" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="2194" y="2850" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-348" value="response" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="2414" y="2800" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-357" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-349" target="GdMtMQtGJzXE8QDH4rNj-353">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2534" y="2900" />
              <mxPoint x="2534" y="2961" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-365" value="4&amp;nbsp;&lt;br&gt;根据request &lt;br&gt;构建response&lt;br&gt;opaque" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-357">
          <mxGeometry x="-0.418" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-349" value="编解码" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="2414" y="2850" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-362" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.583;entryY=0.995;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-350" target="GdMtMQtGJzXE8QDH4rNj-352">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-369" value="6" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-362">
          <mxGeometry x="-0.0606" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-350" value="responseTable&lt;br&gt;{opaque ,ResponseFuture}" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="2324" y="2687.5" width="220" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-361" value="1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-352" target="GdMtMQtGJzXE8QDH4rNj-345">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-352" value="Biz of&lt;br&gt;request-responsd" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="2304" y="2600" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-356" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-353" target="GdMtMQtGJzXE8QDH4rNj-349">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-368" value="3" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-356">
          <mxGeometry x="0.253" y="4" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-358" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-353" target="GdMtMQtGJzXE8QDH4rNj-347">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-366" value="5根据&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;opaque&lt;/span&gt;&lt;br&gt;查找&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;ResponseFuture}&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-358">
          <mxGeometry x="0.518" y="-2" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-353" value="channel" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="2314" y="2923" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-372" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;startArrow=none;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-373" target="GdMtMQtGJzXE8QDH4rNj-371">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-382" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-370" target="GdMtMQtGJzXE8QDH4rNj-376">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-370" value="netty" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="1775" y="3050" width="185" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-371" value="MessageStore.asyncPutMessage" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="2580" y="3050" width="220" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-373" value="切面处理重试&lt;br&gt;死信等topic信息" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="2380" y="3050" width="175" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-384" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-376" target="GdMtMQtGJzXE8QDH4rNj-373">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-376" value="处理批量:asyncSendBatchMessage&lt;br&gt;单个:&amp;nbsp;asyncSendMessage&lt;br&gt;消费者重发:asyncConsumerSendMsgBack" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6D0DE;" vertex="1" parent="1">
          <mxGeometry x="2030" y="3050" width="315" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-392" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-385" target="GdMtMQtGJzXE8QDH4rNj-391">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-393" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-385" target="GdMtMQtGJzXE8QDH4rNj-389">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-394" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-385" target="GdMtMQtGJzXE8QDH4rNj-390">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-385" value="mappedFile&lt;br&gt;appendMessage" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="1968" y="3260" width="142" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-387" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-386" target="GdMtMQtGJzXE8QDH4rNj-385">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-386" value="CommitLog.putMessage" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="1970" y="3180" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-396" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-389" target="GdMtMQtGJzXE8QDH4rNj-395">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-389" value="mappedFile写满" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="1850" y="3320" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-397" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-390" target="GdMtMQtGJzXE8QDH4rNj-395">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-390" value="mappedFile空间不足&lt;br&gt;END_OF_FILE" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="1978" y="3320" width="122" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-391" value="mappedFile空间充足" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="2130" y="3320" width="107.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-402" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-395" target="GdMtMQtGJzXE8QDH4rNj-400">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-395" value="getLastMappedFile(0)" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="1898" y="3410" width="122" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-410" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-398" target="GdMtMQtGJzXE8QDH4rNj-408">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-412" value="添加两个文件创建请求到任务池中" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-410">
          <mxGeometry x="0.11" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-416" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.002;entryY=0.08;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-398" target="GdMtMQtGJzXE8QDH4rNj-415">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-398" value="allocateMappedFileService.putRequestAndReturnMappedFile&lt;br&gt;nextFilePath&amp;nbsp; &amp;nbsp;nextNextFilePath" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="1789" y="3560" width="340" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-403" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-400" target="GdMtMQtGJzXE8QDH4rNj-398">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-404" value="Y" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-403">
          <mxGeometry x="-0.3516" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-406" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-400" target="GdMtMQtGJzXE8QDH4rNj-405">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-407" value="创建一个mmap文件" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-406">
          <mxGeometry x="-0.0111" y="1" relative="1" as="geometry">
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-400" value="分配文件&lt;br&gt;服务存在" style="rhombus;whiteSpace=wrap;html=1;fillColor=#D4E1F5;dashed=0;shadow=0;" vertex="1" parent="1">
          <mxGeometry x="1919" y="3490" width="81" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-405" value="new MappedFile&lt;br&gt;完成内存映射" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="2144.5" y="3485" width="131" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-411" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-408" target="GdMtMQtGJzXE8QDH4rNj-409">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-408" value="AllocateMappedFileService.requestTable&lt;br&gt;key为filepath 根据filepath获取结果" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="1789" y="3640" width="340" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-409" value="AllocateMappedFileService.requestQueue&lt;br&gt;根据commitlog的文件名进行排序,名称小的先创建" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="1789" y="3710" width="340" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-415" value="" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#D4E1F5;" vertex="1" parent="1">
          <mxGeometry x="2190" y="3560" width="280" height="230" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-417" value="异步自旋获取任务池创建文件请求" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFCCCC;" vertex="1" parent="1">
          <mxGeometry x="2190" y="3560" width="280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-418" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-417" target="GdMtMQtGJzXE8QDH4rNj-417">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2490" y="3597" />
              <mxPoint x="2490" y="3530" />
              <mxPoint x="2330" y="3530" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-419" value="mmapOperation" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="2190" y="3635" width="280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-420" value="创建MappedFile" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="2190" y="3690" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-422" value="1写入假值进行预热&lt;br&gt;2mlock锁住内存" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="2370" y="3690" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-423" value="commitlog" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1710" y="4000" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-424" value="DefaultMessageStore" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1710" y="3920" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-425" value="获取文件" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1850" y="4000" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-426" value="写入缓冲区" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1950" y="4000" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-429" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.41;entryY=-0.02;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-427" target="GdMtMQtGJzXE8QDH4rNj-423">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1900" y="3980" />
              <mxPoint x="1767" y="3980" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-427" value="写入文件" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1850" y="3920" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-433" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-428" target="GdMtMQtGJzXE8QDH4rNj-432">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-428" value="构建consumequeue&lt;br&gt;构建indexfile" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="1950" y="3920" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-435" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-430" target="GdMtMQtGJzXE8QDH4rNj-434">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-430" value="刷盘" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="2050" y="4000" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-431" value="主从同步" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#99CCFF;" vertex="1" parent="1">
          <mxGeometry x="2150" y="4000" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-432" value="触发messagearriving" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FF99FF;" vertex="1" parent="1">
          <mxGeometry x="2130" y="3920" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-443" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.427;entryY=0.02;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-434" target="GdMtMQtGJzXE8QDH4rNj-436">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-444" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-434" target="GdMtMQtGJzXE8QDH4rNj-439">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-445" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-434" target="GdMtMQtGJzXE8QDH4rNj-440">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-434" value="刷盘" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFCCCC;" vertex="1" parent="1">
          <mxGeometry x="1704.5" y="4092" width="540" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-475" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-436" target="GdMtMQtGJzXE8QDH4rNj-441">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-436" value="同步刷盘【future等待】&lt;br&gt;putRequest" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFCCCC;" vertex="1" parent="1">
          <mxGeometry x="1620" y="4210" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-474" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.084;entryY=-0.033;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-439" target="GdMtMQtGJzXE8QDH4rNj-472">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-439" value="异步含堆外内存刷盘" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFCCCC;" vertex="1" parent="1">
          <mxGeometry x="1880" y="4210" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-473" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-440" target="GdMtMQtGJzXE8QDH4rNj-447">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-440" value="异步刷盘" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFCCCC;" vertex="1" parent="1">
          <mxGeometry x="2120" y="4210" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-441" value="GroupCommitService.wakeup&lt;br&gt;flush" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFCCCC;" vertex="1" parent="1">
          <mxGeometry x="1620" y="4290" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-446" value="CommitRealTimeService&lt;br&gt;commit" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFCCCC;" vertex="1" parent="1">
          <mxGeometry x="1820" y="4290" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-447" value="FlushRealTimeService&lt;br&gt;flush" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFCCCC;" vertex="1" parent="1">
          <mxGeometry x="2120" y="4290" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-453" value="内存" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="1570" y="4390" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-478" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-454" target="GdMtMQtGJzXE8QDH4rNj-453">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-454" value="磁盘" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="1570" y="4460" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-458" value="flush" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-455" target="GdMtMQtGJzXE8QDH4rNj-457">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-455" value="mappedByteBuffer" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="1640" y="4390" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-457" value="磁盘" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="1640.25" y="4460" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-461" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-459" target="GdMtMQtGJzXE8QDH4rNj-460">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-464" value="commit" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-461">
          <mxGeometry x="-0.3524" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-459" value="writeBuffer" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="1820" y="4390" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-463" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-460" target="GdMtMQtGJzXE8QDH4rNj-462">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-465" value="flush" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-463">
          <mxGeometry x="-0.3833" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-460" value="mappedByteBuffer" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="2000" y="4390" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-462" value="磁盘" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="2000" y="4460" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-468" value="flush" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-466" target="GdMtMQtGJzXE8QDH4rNj-467">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-466" value="mappedByteBuffer" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="2174" y="4390" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-467" value="磁盘" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="2174" y="4460" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-472" value="FlushRealTimeService&lt;br&gt;flush" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFCCCC;" vertex="1" parent="1">
          <mxGeometry x="1960" y="4290" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-476" value="" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6E6E6;" vertex="1" parent="1">
          <mxGeometry x="1480" y="4520" width="880" height="170" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-479" value="请求处理线程" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="1480" y="3910" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-480" value="刷盘线程" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="1480" y="4520" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-485" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#7F00FF;fillColor=#0000FF;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-481" target="GdMtMQtGJzXE8QDH4rNj-436">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1430" y="4319.999999999999" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1410" y="4595" />
              <mxPoint x="1410" y="4235" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-486" value="通过future机制同步" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-485">
          <mxGeometry x="0.0454" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-481" value="自旋每10ms刷盘&lt;br&gt;或唤醒刷盘" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFCCCC;" vertex="1" parent="1">
          <mxGeometry x="1620" y="4570" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-482" value="自旋每200毫秒提交&lt;br&gt;或唤醒提交" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFCCCC;" vertex="1" parent="1">
          <mxGeometry x="1878" y="4570" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-483" value="自旋每500ms刷盘&lt;br&gt;或唤醒刷盘" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFCCCC;" vertex="1" parent="1">
          <mxGeometry x="1878" y="4620" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-484" value="自旋每500ms刷盘&lt;br&gt;或唤醒刷盘" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#FFCCCC;" vertex="1" parent="1">
          <mxGeometry x="2118" y="4560" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-487" value="等待10ms" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6E6E6;" vertex="1" parent="1">
          <mxGeometry x="1481.25" y="4700" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-491" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-488" target="GdMtMQtGJzXE8QDH4rNj-487">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-492" value="自旋" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-491">
          <mxGeometry x="0.0192" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-494" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-488" target="GdMtMQtGJzXE8QDH4rNj-493">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-497" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-488" target="GdMtMQtGJzXE8QDH4rNj-496">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-498" value="不存在刷盘请求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="GdMtMQtGJzXE8QDH4rNj-497">
          <mxGeometry x="0.0081" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-488" value="doCommit" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6E6E6;" vertex="1" parent="1">
          <mxGeometry x="1481.25" y="4820" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-490" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-489" target="GdMtMQtGJzXE8QDH4rNj-488">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-489" value="onWaitEnd扩展点&lt;br&gt;swapRequests&lt;br&gt;交换读写队列&lt;br&gt;" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6E6E6;" vertex="1" parent="1">
          <mxGeometry x="1481.25" y="4750" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-500" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-493" target="GdMtMQtGJzXE8QDH4rNj-499">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-493" value="mappedFileQueue.flush&lt;br&gt;如果消息跨文件则刷盘两次" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6E6E6;" vertex="1" parent="1">
          <mxGeometry x="1715" y="4820" width="155" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-495" value="处理StoreCheckpoint&lt;br&gt;用于文件恢复" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6E6E6;" vertex="1" parent="1">
          <mxGeometry x="1715" y="4870" width="155" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-501" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-496" target="GdMtMQtGJzXE8QDH4rNj-499">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-496" value="mappedFileQueue.flush&lt;br&gt;至少刷0页" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6E6E6;" vertex="1" parent="1">
          <mxGeometry x="1715" y="4940" width="155" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-503" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-499" target="GdMtMQtGJzXE8QDH4rNj-502">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-499" value="获取MappedFile" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6E6E6;" vertex="1" parent="1">
          <mxGeometry x="1913" y="4860" width="155" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-507" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#7F00FF;fillColor=#0000FF;" edge="1" parent="1" source="GdMtMQtGJzXE8QDH4rNj-502" target="GdMtMQtGJzXE8QDH4rNj-504">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-502" value="判断至少刷的页是否足够" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6E6E6;" vertex="1" parent="1">
          <mxGeometry x="1913" y="4930" width="155" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GdMtMQtGJzXE8QDH4rNj-504" value="[开启堆外内存]fileChannel刷盘&lt;br&gt;mappedByteBuffer刷盘" style="html=1;dashed=0;whitespace=wrap;shadow=0;fillColor=#E6E6E6;" vertex="1" parent="1">
          <mxGeometry x="1900" y="5000" width="180" height="50" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
