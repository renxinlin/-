<mxfile host="app.diagrams.net" modified="2021-11-25T09:39:49.924Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.55 Safari/537.36" etag="64gFEHe9w0TMQFjpKoBE" version="15.8.3" type="github">
  <diagram id="crfA2QIqD1aeVpx_zon8" name="Page-1">
    <mxGraphModel dx="2521" dy="1909" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="r9P3kUow48pfhCPYGJET-50" value="" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="220" y="-130" width="540" height="270" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-1" value="" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="220" y="160" width="540" height="380" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-2" value="" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="220" y="600" width="540" height="260" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-4" value="" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="310" y="-40" width="100" height="150" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-7" value="" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-200" y="160" width="310" height="290" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-8" value="" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="760" y="160" width="310" height="410" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-13" value="namesrvconfig" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="310" y="-10" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-14" value="nettyconfig" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="310" y="20" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-16" value="routeinfoManager" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="310" y="50" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-18" value="" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="440" y="-40" width="100" height="150" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-20" value="namesrvconfig" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="440" y="-10" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-21" value="nettyconfig" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="440" y="20" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-22" value="routeinfoManager" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="440" y="50" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-23" value="" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="570" y="-40" width="100" height="150" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-24" value="nameserver-controller每十秒清除routeinfoManager过期broker" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="310" y="-40" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-25" value="namesrvconfig" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="570" y="-10" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-26" value="nettyconfig" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="570" y="20" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-27" value="routeinfoManager" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="570" y="50" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-29" value="" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="220" y="860" width="540" height="320" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-30" value="DefaultMQProducer" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-200" y="160" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-31" value="消费者" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="760" y="160" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-32" value="" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="220" y="160" width="540" height="110" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-33" value="" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-200" y="450" width="310" height="410" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-34" value="" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="1070" y="160" width="310" height="410" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-35" value="消息发送" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-200" y="450" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-36" value="rebalanceimpl" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="1070" y="160" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-37" value="broker" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="220" y="600" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-38" value="存储引擎" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="220" y="860" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-39" value="commitlog" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="320" y="860" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-40" value="consumequeue" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="420" y="860" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-41" value="consumequeue" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="520" y="860" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-43" value="" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="760" y="570" width="930" height="280" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-44" value="消息拉取" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="760" y="570" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-45" value="" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="1380" y="160" width="310" height="410" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-47" value="消息拉取" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="1380" y="160" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-48" value="namesrv" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="220" y="-130" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-49" value="DefaultRequestProcessor [RequestCode.REGISTER_BROKER,GET_ROUTEINTO_BY_TOPIC]" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="220" y="110" width="540" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="r9P3kUow48pfhCPYGJET-54" target="r9P3kUow48pfhCPYGJET-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-56" value="resister" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="r9P3kUow48pfhCPYGJET-55">
          <mxGeometry x="0.0297" y="-5" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="r9P3kUow48pfhCPYGJET-54">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="400" y="570" as="targetPoint" />
            <Array as="points">
              <mxPoint x="160" y="270" />
              <mxPoint x="160" y="560" />
              <mxPoint x="380" y="560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-70" value="sendHeartBeat" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="r9P3kUow48pfhCPYGJET-69">
          <mxGeometry x="-0.856" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-54" value="defaultMQProducerImpl" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-200" y="240" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-57" value="producerTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="220" y="240" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-58" value="mqclientinstance" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="220" y="160" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-59" value="brokerAddrTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="620" y="240" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.519;entryY=-0.013;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="r9P3kUow48pfhCPYGJET-63" target="r9P3kUow48pfhCPYGJET-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-68" value="注册生产者和消费者与连接通道关系到broker" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="r9P3kUow48pfhCPYGJET-67">
          <mxGeometry x="0.0644" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-63" value="MQClientAPIImpl" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="430" y="510" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-64" value="consumerTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="420" y="240" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-65" value="rebalanceService" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="620" y="510" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-66" value="pullMessageService" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="620" y="390" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-71" value="普通消息" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-70" y="480" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-72" value="延时消息" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="50" y="480" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-73" value="事务消息" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-10" y="480" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-74" value="oneway" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-140" y="450" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-75" value="同步" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-40" y="450" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-76" value="异步" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-90" y="450" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-79" value="topicPublishInfoTable" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFCC;" vertex="1" parent="1">
          <mxGeometry x="-200" y="270" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-80" value="sendDefaultImpl" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="-200" y="560" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-81" value="sendken" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="-200" y="690" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-82" value="服务发现" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="-100" y="560" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-83" value="负载均衡" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry y="560" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-84" value="同步容错机制(重试" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="-100" y="590" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-85" value="&amp;nbsp;处理错误表" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry y="590" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-86" value="消息id 钩子执行" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="-100" y="720" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-87" value="请求头构建" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry y="720" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-88" value="异步重试" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="-100" y="750" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-89" value="异步重试" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry y="750" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-90" value="消息轨迹" style="html=1;dashed=0;whitespace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-30" y="160" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9P3kUow48pfhCPYGJET-91" value="mqclientinstance查找broker地址" style="html=1;dashed=0;whitespace=wrap;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="-100" y="690" width="200" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
